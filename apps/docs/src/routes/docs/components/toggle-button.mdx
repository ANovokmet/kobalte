import { ToggleButton } from "@kobalte/core";
import { Show } from "solid-js";

import { Preview } from "../../../components/preview";
import { VolumeOnIcon, VolumeOffIcon } from "../../../components/icons";
import { Kbd } from "../../../components/kbd";

# Toggle Button

A two-state button that can be either on (pressed) or off (not pressed).

<Preview isCentered>
  <ToggleButton
    aria-label="mute"
    class="appearance-none outline-none h-10 w-10 flex items-center justify-center rounded-md text-white bg-blue-600 dark:text-white/90 focus:ring focus:ring-blue-200 dark:focus:ring-blue-500/30 ui-pressed:bg-red-600"
  >
    {({ isPressed }) => (
      <Show when={isPressed()} fallback={<VolumeOnIcon class="h-6 w-6" />}>
        <VolumeOffIcon class="h-6 w-6" />
      </Show>
    )}
  </ToggleButton>
</Preview>

```tsx
<ToggleButton
  aria-label="mute"
  class="appearance-none outline-none h-10 w-10 flex items-center justify-center rounded-md text-white bg-blue-600 dark:text-white/90 focus:ring focus:ring-blue-200 dark:focus:ring-blue-500/30 ui-pressed:bg-red-600"
>
  {({ isPressed }) => (
    <Show when={isPressed()} fallback={<VolumeOnIcon class="h-6 w-6" />}>
      <VolumeOffIcon class="h-6 w-6" />
    </Show>
  )}
</ToggleButton>
```

## Features

- Native HTML `<button>`, `<a>`, and custom element type support.
- Exposed as a toggle button via the [WAI ARIA Button](https://www.w3.org/WAI/ARIA/apg/patterns/button/) design pattern.
- Mouse and touch event handling, and press state management.
- Keyboard event support for <Kbd>Space</Kbd> and <Kbd>Enter</Kbd> keys.
- Can be controlled or uncontrolled.

## Import

```ts
import { ToggleButton } from "@kobalte/core";
```

## Usage

### Default value

An initial, uncontrolled value can be provided to the ToggleButton using the `defaultIsPressed` prop.

```tsx
<ToggleButton defaultIsPressed />
```

### Controlled value

A controlled value can be provided using the `isPressed` prop. The `onPressedChange` event is fired when the user toggle the button.

```tsx
function Example() {
  const [pressed, setPressed] = createSignal(false);

  return <ToggleButton isPressed={pressed} onPressedChange={setPressed} />;
}
```

### Disabled

The ToggleButton can be disabled with the `isDisabled` prop.

```tsx
<ToggleButton isDisabled />
```

### Accessing internal state

The internal state of the ToggleButton can be accessed by using a function as children (_render prop_).

```tsx
<ToggleButton aria-label="mute">
  {state => (
    <Show when={state.isPressed()} fallback={<VolumeOnIcon />}>
      <VolumeOffIcon />
    </Show>
  )}
</ToggleButton>
```

## API Reference

`ToggleButton` consists of [Button](/docs/components/button) and additional props.

| Prop             | Description                                                                                                                                                                                                        |
| :--------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isPressed        | `boolean` <br/> The controlled pressed state of the toggle button.                                                                                                                                                 |
| defaultIsPressed | `boolean` <br/> The default pressed state when initially rendered. Useful when you do not need to control the pressed state.                                                                                       |
| onPressedChange  | `(isPressed: boolean) => void` <br/> Event handler called when the pressed state of the toggle button changes. This handler is different from the button `onPressChange` handler which is related to `PressEvent`. |
| children         | `JSX.Element \| (state: ToggleButtonState) => JSX.Element` <br/> The children of the toggle button. Can be a `JSX.Element` or a _render prop_ for having access to the internal state.                             |

| Data attributes | Description                                     |
| :-------------- | :---------------------------------------------- |
| data-pressed    | Present when the toggle button is on (pressed). |

## Accessibility

### Keyboard Interactions

| Key              | Description                              |
| :--------------- | :--------------------------------------- |
| <Kbd>Space</Kbd> | Activates/deactivates the toggle button. |
| <Kbd>Enter</Kbd> | Activates/deactivates the toggle button. |
